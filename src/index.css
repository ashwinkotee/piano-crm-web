@tailwind base;
@tailwind components;
@tailwind utilities;

/* Portal experimental theme */
:root {
  --portal-accent: 99 102 241; /* indigo-500 */
}

/* Soft animated gradient background for the portal area (neo) */
.portal-bg {
  /* Soften dark theme gradient background. Avoid fixed attachment on mobile to
     prevent white banding/overflow artifacts in some browsers. */
  background: radial-gradient(1200px 600px at 10% -10%, rgba(99,102,241,0.2), transparent 60%),
              radial-gradient(900px 500px at 90% 10%, rgba(56,189,248,0.18), transparent 60%),
              linear-gradient(180deg, #0f172a 0%, #111827 60%, #0b1021 100%);
}

@media (min-width: 768px) {
  /* Enable fixed attachment only on medium+ screens where browsers handle it better */
  .portal-bg { background-attachment: fixed; }
}

/* Subtle entrance animation */
@keyframes fadeUp {
  from { opacity: 0; transform: translateY(8px); }
  to { opacity: 1; transform: translateY(0); }
}
.animate-fade-up { animation: fadeUp 400ms ease-out both; }

/* Card interaction */
.card-hover {
  transition: box-shadow 200ms ease, transform 200ms ease; 
}
.card-hover:hover { box-shadow: 0 8px 24px rgba(15, 23, 42, 0.18); transform: translateY(-2px); }

/* Fancy focus ring */
.focus-ring:focus { outline: none; box-shadow: 0 0 0 3px rgba(99,102,241,0.45); }

/* Glass panels */
.glass { background: rgba(255,255,255,0.06); border: 1px solid rgba(255,255,255,0.12); backdrop-filter: blur(10px); }
.glass-light { background: rgba(255,255,255,0.75); border: 1px solid rgba(15,23,42,0.08); backdrop-filter: blur(10px); }

/* Ensure glass adapts automatically in light theme */
.theme-light .glass { background: rgba(255,255,255,0.75); border: 1px solid rgba(15,23,42,0.08); }

/* Neutral card that adapts with theme */
.card-neutral { background: rgba(255,255,255,0.06); border: 1px solid rgba(255,255,255,0.12); color: #e5e7eb; }
.theme-light .card-neutral { background: #ffffff; border: 1px solid rgba(15,23,42,0.08); color: #0f172a; }

/* Titles */
.section-title { background: linear-gradient(90deg, #f472b6, #60a5fa, #34d399); -webkit-background-clip: text; background-clip: text; color: transparent; }

/* Chips */
.chip { border-radius: 9999px; padding: 0.25rem 0.6rem; backdrop-filter: blur(4px); }

/* Sidebar */
.neo-sidebar { border-right: 1px solid rgba(255,255,255,0.12); }
.theme-light .neo-sidebar { border-right-color: rgba(15,23,42,0.08); }


@layer base {
  html, body, #root { height: 100%; }
  /* Avoid forcing dark text globally; let theme classes control it */
  body { @apply font-sans; }
}

/* Theme overrides */
.theme-light .portal-bg {
  background: radial-gradient(1200px 600px at 10% -10%, rgba(99,102,241,0.12), transparent 60%),
              radial-gradient(900px 500px at 90% 10%, rgba(56,189,248,0.12), transparent 60%),
              linear-gradient(180deg, #f8fafc 0%, #eef2ff 100%);
}

/* Set text color by theme */
.theme-dark body { color: #e5e7eb; background-color: #0b1021; }
.theme-light body { color: #0f172a; background-color: #f8fafc; }

/* Improve contrast for Tailwind slate text utilities in light theme
   Many components use text-slate-100/200/300 which are too faint on light bg. */
.theme-light .text-slate-300 { color: #334155 !important; } /* slate-700 */
.theme-light .text-slate-200 { color: #475569 !important; } /* slate-600 */
.theme-light .text-slate-100 { color: #0f172a !important; } /* slate-900 */
.theme-light .text-white { color: #0f172a !important; }

/* Links that previously hovered to white should hover darker in light theme */
.theme-light a:hover { color: #0f172a; }

/* Ensure readable text on light cards even in dark theme */
.theme-dark .bg-white, .theme-dark .bg-slate-50 { color: #0f172a; }

/* Portal badge tokens: readable in both themes */
.portal-badge { display: inline-flex; align-items: center; border-radius: 9999px; padding: 0.25rem 0.625rem; font-size: 0.75rem; font-weight: 600; line-height: 1rem; border: 1px solid transparent; }

/* Dark theme defaults */
.theme-dark .portal-badge-ok { background: rgba(16,185,129,0.20); color: #a7f3d0; border-color: rgba(16,185,129,0.35); }
.theme-dark .portal-badge-warn { background: rgba(251,191,36,0.20); color: #fde68a; border-color: rgba(251,191,36,0.35); }
.theme-dark .portal-badge-danger { background: rgba(244,63,94,0.20); color: #fecaca; border-color: rgba(244,63,94,0.35); }
.theme-dark .portal-badge-muted { background: rgba(255,255,255,0.10); color: #e5e7eb; border-color: rgba(255,255,255,0.20); }

/* Light theme higher contrast */
.theme-light .portal-badge-ok { background: #d1fae5; color: #065f46; border-color: #a7f3d0; }
.theme-light .portal-badge-warn { background: #fef3c7; color: #92400e; border-color: #fde68a; }
.theme-light .portal-badge-danger { background: #fee2e2; color: #991b1b; border-color: #fecaca; }
.theme-light .portal-badge-muted { background: #e5e7eb; color: #374151; border-color: #d1d5db; }
